import{r as h,b as y,o as n,d as m,w as g,e as f,f as o,u as v,i as w,t as p,g as k,h as c,j as L,c as r,F as C,k as x,l as $}from"./index-ff61e4a8.js";const B={alt:"",class:"list-content__img"},D={class:"list-content__name"},H={__name:"ListItem",props:["item","type"],setup(t){return(i,e)=>{const a=h("router-link"),s=y("lazy");return n(),m(a,{to:`/${t.type}/${t.item.id}`,class:"list-content__item"},{default:g(()=>[f(o("img",B,null,512),[[s,v(w)+t.item.poster_path]]),o("h3",D,p(t.item.title||t.item.name),1)]),_:1},8,["to"])}}},P={class:"list-content container"},b={class:"list-content__title"},z={class:"list-content__wrapper"},E={key:0,class:"loading"},F=o("div",{class:"loading__spiner"},null,-1),N=[F],I={__name:"ListContent",props:["type"],setup(t){const i=t,e=k(),a=c(1),s=c(!1);L(()=>i.type=="movie"?e.moviesList:e.tvsList);let d=c([]);async function _(){if(!s.value){s.value=!0,await e.getPopular(i.type,a.value);let l=i.type=="movie"?e.moviesList:e.tvsList;d.value.push(...l),s.value=!1,a.value++}}return _(),window.addEventListener("scroll",()=>{window.scrollY+window.innerHeight>=document.body.clientHeight-footer.clientHeight&&_()}),(l,S)=>(n(),r("div",P,[o("h2",b,p(t.type=="movie"?"Все фильмы":"Все сериалы"),1),o("div",z,[(n(!0),r(C,null,x(v(d),(u,V)=>(n(),m(H,{key:u.id,item:u,type:t.type},null,8,["item","type"]))),128))]),s.value?(n(),r("div",E,N)):$("",!0)]))}};export{I as _};
